<!DOCTYPE html>
<html lang="en" >
<head>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GF8S00ZL6D"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-GF8S00ZL6D');
</script>

  <meta charset="UTF-8">
  <title>Play Solitaire Now</title>
  <meta property="og:image" content="https://i.imgur.com/tcmz9Af.png"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"><link rel='stylesheet' href='https://bfa.github.io/solitaire-js/css/bootstrap.min.css'><link rel="stylesheet" href="./style.css">

</head>
<body>
<!-- partial:index.partial.html -->
<div class="container">

      <div id="score">
         <div class="timer">
            <button id="play-pause">
               <i id="play">Play</i>
               <i id="pause">Pause</i>
            </button>
            <label>Timer:</label>
            <span>00:00</span>
         </div>
         <div class="move-count" data-moves="0">
            <label>Moves:</label>
            <span>0</span>
         </div>
         <div class="score" data-score="0">
            <label>Score:</label>
            <span>0</span>
         </div>
      </div>

      <div id="table">

         <div class="upper-row">
            <div id="stock" class="stock pile" data-pile="stock">
               <i class="reload-icon" data-action="reload">
                  <span></span>
               </i>
               <ul></ul>
            </div>

            <div id="waste" class="waste pile" data-pile="waste">
               <ul></ul>
            </div>

            <ul id="fnd" class="fnd">
               <li id="spades" class="spades pile" data-pile="spades" data-empty="true"><ul></ul></li>
               <li id="hearts" class="hearts pile" data-pile="hearts" data-empty="true"><ul></ul></li>
               <li id="diamonds" class="diamonds pile" data-pile="diamonds" data-empty="true"><ul></ul></li>
               <li id="clubs" class="clubs pile" data-pile="clubs" data-empty="true"><ul></ul></li>
            </ul>
         </div>

         <div class="lower-row">
            <ul id="tab" class="tab">
               <li class="pile" data-pile="1"><ul></ul></li>
               <li class="pile" data-pile="2"><ul></ul></li>
               <li class="pile" data-pile="3"><ul></ul></li>
               <li class="pile" data-pile="4"><ul></ul></li>
               <li class="pile" data-pile="5"><ul></ul></li>
               <li class="pile" data-pile="6"><ul></ul></li>
               <li class="pile" data-pile="7"><ul></ul></li>
            </ul>
         </div>

      </div>

   </div><!-- /.container -->

   <button id="auto-win">Auto Win</button>

   <canvas id="confetti"></canvas>

   <ul class="template">
      <li data-rank="2">
         <div class="two {{suit}}">
            <div class="corner top">
               <span class="rank">2</span>
               <span class="suit"></span>
            </div>
            <span class="suit top_center"></span>
            <span class="suit bottom_center"></span>
            <div class="corner bottom">
               <span class="rank">2</span>
               <span class="suit"></span>
            </div>
         </div>
      </li>
      <li data-rank="3">
         <div class="three {{suit}}">
            <div class="corner top">
               <span class="rank">3</span>
               <span class="suit"></span>
            </div>
            <span class="suit top_center"></span>
            <span class="suit middle_center"></span>
            <span class="suit bottom_center"></span>
            <div class="corner bottom">
               <span class="rank">3</span>
               <span class="suit"></span>
            </div>
         </div>
      </li>
      <li data-rank="4">
         <div class="four {{suit}}">
            <div class="corner top">
               <span class="rank">4</span>
               <span class="suit"></span>
            </div>
            <span class="suit top_left"></span>
            <span class="suit top_right"></span>
            <span class="suit bottom_left"></span>
            <span class="suit bottom_right"></span>
            <div class="corner bottom">
               <span class="rank">4</span>
               <span class="suit"></span>
            </div>
         </div>
      </li>
      <li data-rank="5">
         <div class="five {{suit}}">
            <div class="corner top">
               <span class="rank">5</span>
               <span class="suit"></span>
            </div>
            <span class="suit top_left"></span>
            <span class="suit top_right"></span>
            <span class="suit middle_center"></span>
            <span class="suit bottom_left"></span>
            <span class="suit bottom_right"></span>
            <div class="corner bottom">
               <span class="rank">5</span>
               <span class="suit"></span>
            </div>
         </div>
      </li>
      <li data-rank="6">
         <div class="six {{suit}}">
            <div class="corner top">
               <span class="rank">6</span>
               <span class="suit"></span>
            </div>
            <span class="suit top_left"></span>
            <span class="suit top_right"></span>
            <span class="suit middle_left"></span>
            <span class="suit middle_right"></span>
            <span class="suit bottom_left"></span>
            <span class="suit bottom_right"></span>
            <div class="corner bottom">
               <span class="rank">6</span>
               <span class="suit"></span>
            </div>
         </div>
      </li>
      <li data-rank="7">
         <div class="seven {{suit}}">
            <div class="corner top">
               <span class="rank">7</span>
               <span class="suit"></span>
            </div>
            <span class="suit top_left"></span>
            <span class="suit top_right"></span>
            <span class="suit middle_left"></span>
            <span class="suit middle_top"></span>
            <span class="suit middle_right"></span>
            <span class="suit bottom_left"></span>
            <span class="suit bottom_right"></span>
            <div class="corner bottom">
               <span class="rank">7</span>
               <span class="suit"></span>
            </div>
         </div>
      </li>
      <li data-rank="8">
         <div class="eight {{suit}}">
            <div class="corner top">
               <span class="rank">8</span>
               <span class="suit"></span>
            </div>
            <span class="suit top_left"></span>
            <span class="suit top_right"></span>
            <span class="suit middle_left"></span>
            <span class="suit middle_top_center"></span>
            <span class="suit middle_right"></span>
            <span class="suit middle_bottom_center"></span>
            <span class="suit bottom_left"></span>
            <span class="suit bottom_right"></span>
            <div class="corner bottom">
               <span class="rank">8</span>
               <span class="suit"></span>
            </div>
         </div>
      </li>
      <li data-rank="9">
         <div class="nine {{suit}}">
            <div class="corner top">
               <span class="rank">9</span>
               <span class="suit"></span>
            </div>
            <span class="suit top_left"></span>
            <span class="suit top_right"></span>
            <span class="suit middle_top_left"></span>
            <span class="suit middle_center"></span>
            <span class="suit middle_top_right"></span>
            <span class="suit bottom_left"></span>
            <span class="suit bottom_right"></span>
            <span class="suit middle_bottom_left"></span>
            <span class="suit middle_bottom_right"></span>
            <div class="corner bottom">
               <span class="rank">9</span>
               <span class="suit"></span>
            </div>
         </div>
      </li>
      <li data-rank="10">
         <div class="ten {{suit}}">
            <div class="corner top">
               <span class="rank">10</span>
               <span class="suit"></span>
            </div>
            <span class="suit top_left"></span>
            <span class="suit top_right"></span>
            <span class="suit middle_top_left"></span>
            <span class="suit middle_top_center"></span>
            <span class="suit middle_top_right"></span>
            <span class="suit bottom_left"></span>
            <span class="suit bottom_right"></span>
            <span class="suit middle_bottom_center"></span>
            <span class="suit middle_bottom_left"></span>
            <span class="suit middle_bottom_right"></span>
            <div class="corner bottom">
               <span class="rank">10</span>
               <span class="suit"></span>
            </div>
         </div>
      </li>
      <li data-rank="J">
         <div class="jack {{suit}}">
            <div class="corner top">
               <span class="rank">J</span>
               <span class="suit"></span>
            </div>
            <span class="face middle_center"></span>
            <div class="corner bottom">
               <span class="rank">J</span>
               <span class="suit"></span>
            </div>
         </div>
      </li>
      <li data-rank="Q">
         <div class="queen {{suit}}">
            <div class="corner top">
               <span class="rank">Q</span>
               <span class="suit"></span>
            </div>
            <span class="face middle_center"></span>
            <div class="corner bottom">
               <span class="rank">Q</span>
               <span class="suit"></span>
            </div>
         </div>
      </li>
      <li data-rank="K">
         <div class="king {{suit}}">
            <div class="corner top">
               <span class="rank">K</span>
               <span class="suit"></span>
            </div>
            <span class="face middle_center"></span>
            <div class="corner bottom">
               <span class="rank">K</span>
               <span class="suit"></span>
            </div>
         </div>
      </li>
      <li data-rank="A">
         <div class="ace {{suit}}">
            <div class="corner top">
               <span class="rank">A</span>
               <span class="suit"></span>
            </div>
            <span class="suit middle_center"></span>
            <div class="corner bottom">
               <span class="rank">A</span>
               <span class="suit"></span>
            </div>
         </div>
      </li>
   </ul><!-- /.templates -->
<!-- partial -->
  <script  src="./script.js"></script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var cards = document.querySelectorAll('.card');
    cards.forEach(function(card) {
      card.setAttribute('draggable', true);
      card.addEventListener('dragstart', handleDragStart, false);
      card.addEventListener('dragend', handleDragEnd, false);
    });

    var piles = document.querySelectorAll('.pile');
    piles.forEach(function(pile) {
      pile.addEventListener('dragover', handleDragOver, false);
      pile.addEventListener('drop', handleDrop, false);
    });
  });

  function handleDragStart(e) {
    this.style.opacity = '0.4';  // this / e.target is the source node.
    dragSrcEl = this;
    e.dataTransfer.effectAllowed = 'move';
    e.dataTransfer.setData('text/html', this.innerHTML);
  }

  function handleDragOver(e) {
    if (e.preventDefault) {
      e.preventDefault(); // Necessary. Allows us to drop.
    }
    e.dataTransfer.dropEffect = 'move';  // See the section on the DataTransfer object.
    return false;
  }

  function handleDrop(e) {
    if (e.stopPropagation) {
      e.stopPropagation(); // Stops some browsers from redirecting.
    }

    // Don't do anything if dropping the same card we're dragging.
    if (dragSrcEl != this) {
      // Set the source column's HTML to the HTML of the column we dropped on.
      dragSrcEl.innerHTML = this.innerHTML;
      this.innerHTML = e.dataTransfer.getData('text/html');
    }

    return false;
  }

  function handleDragEnd(e) {
    // this/e.target is the source node.
    this.style.opacity = '1';

    cards.forEach(function(card) {
      card.style.opacity = '1';
    });
  }
</script>


  
</body>
</html>
